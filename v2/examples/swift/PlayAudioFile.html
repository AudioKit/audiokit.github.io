---
title: AudioKit Examples - Play Audio File in Swift
header: Play Audio File in Swift
permalink: /v2/examples/swift/PlayAudioFile/
layout: v2_examples
last-review-date: 2015/04/01
---

<p>
Here we demonstrate audio playback and processing capabilities. Each time the button is pressed, the audio file plays, but with reverb and randomized playback speed.
</p>

<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/172496505&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe>

<p>
A path to the audio file that will be played ("blaster.aiff") is defined in the code below from "<a href="https://github.com/audiokit/Examples/blob/master/iOS%20Examples/Swift/PlayAudioFile/PlayAudioFile/AudioFilePlayer.swift">AudioFilePlayer.swift</a>". The audio is then stored in an instance of AKSoundFileTable for later processing and playback.
<p>

{% highlight swift %}
let file = NSBundle.mainBundle().pathForResource("blaster", ofType: "aiff")
let fileTable = AKSoundFileTable(filename: file)
{% endhighlight %}

<p>
Next, and instance of AKMonoSoundFileLooper is created, which reads sampled sound (mono or stereo) from a table, with optional sustain and release looping. The input source for "looper" is the audio file described above. The frequency of the oscillator is determined by the variable "speed", which will be described further shortly.
</p>

{% highlight swift %}
let looper = AKMonoSoundFileLooper(soundFile: fileTable)
looper.frequencyRatio = note.speed
looper.loopMode = AKMonoSoundFileLooper.loopPlaysOnce()
{% endhighlight %}


<p>The last bit of processing done is the instance of AKReverb, as shown in the code below:</p>

{% highlight swift %}
let reverb = AKReverb(input: looper)
\reverb.feedback.value = 0.85
{% endhighlight %}

<p>
Speed is defined at the bottom of "AudioFilePlayer.swift". "speed" is of type "AKNoteProperty", which are properties of an instrument that are defined per each note generated by an instrument. In this case, speed is initialized at a value of 1.0, and will randomly cycle through values between 0.2 and 2.0.
<p>

{% highlight swift %}
var speed = AKNoteProperty(value: 1.0, minimum: 0.2, maximum: 2.0)

override init() {
    super.init()
    addProperty(speed)
}
{% endhighlight %}



<p>
The conductor file plays the audio file at random playback speeds. The code below (from 'AudioFileConductor.swift'), changes the playback speed of the audio file whenever the user presses a button:
</p>

{% highlight swift %}
func playBlaster() {
    let note = AudioFilePlayerNote()
    note.speed.randomize()
    note.duration.value = 4.0 // seconds maximum
    audioFilePlayer.playNote(note)
}
{% endhighlight %}
